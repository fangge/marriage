<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>方阳 & 林斯静 婚礼</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="css/com.css">
    <link rel="stylesheet" href="css/timeline.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <!--if lt IE 9
    script(src='https://html5shim.googlecode.com/svn/trunk/html5.js')
    -->
</head>
<!--[if lte IE 7]>
<body scroll="no">
<![endif]-->
<!--[if gt IE 7]><!-->
<body>
<!--<![endif]-->
<audio src="js/bg.mp3" autoplay id="music"></audio>
<div id="pageContain">
    <div class="page page1 current">
        <div class="contain">
            <img src="img/logo.jpg" class="logo">

            <div class="scroll">
                <p>鼠标滚动</p>
                <img src="img/scroll.png">
            </div>
        </div>
    </div>

    <div class="page page2">
        <div class="contain">
            <iframe src="love.html" frameborder="0" id="time"></iframe>
            <div class="scroll">
                <p>鼠标滚动</p>
                <img src="img/scroll.png">
            </div>
        </div>
    </div>
    <div class="page page3">
        <div class="contain">
            <h2>地点：广州正佳万豪酒店</h2>
            <h3>时间：2016年1月24日，中午11点</h3>
            <div class="map">
                <div id="panorama"></div>
                <div id="normal_map"></div>
            </div>

        </div>
    </div>
</div>

<script src="js/fullPage.min.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=wtNGPRGOapyGZQrLS54fhQ8a"></script>
<script>
    var runPage;
    runPage = new FullPage({
        id : 'pageContain',                            // id of contain
        slideTime : 100,                               // time of slide
        continuous : true,                            // create an infinite feel with no endpoints
        effect : {                                     // slide effect
            transform : {
                translate : 'Y',				   // 'X'|'Y'|'XY'|'none'
                scale : [1, 1],				   // [scalefrom, scaleto]
                rotate : [0, 0]				       // [rotatefrom, rotateto]
            },
            opacity : [1, 1]                       // [opacityfrom, opacityto]
        },
        mode : 'wheel,touch',               // mode of fullpage
        easing : 'ease'                                // easing('ease','ease-in','ease-in-out' or use cubic-bezier like [.33, 1.81, 1, 1];
    });
    //全景图展示
    var panorama = new BMap.Panorama('panorama');
    panorama.setPosition(new BMap.Point(113.33253,23.138444)); //根据经纬度坐标展示全景图
    panorama.setPov({heading:80, pitch: 6});

    panorama.addEventListener('position_changed', function(e){ //全景图位置改变后，普通地图中心点也随之改变
        var pos = panorama.getPosition();
        map.setCenter(new BMap.Point(pos.lng, pos.lat));
        marker.setPosition(pos);
    });
    //普通地图展示
    var mapOption = {
        mapType: BMAP_NORMAL_MAP,
        maxZoom: 18,
        drawMargin:0,
        enableFulltimeSpotClick: true,
        enableHighResolution:true
    }
    var map = new BMap.Map("normal_map", mapOption);
    var testpoint = new BMap.Point(120.320032, 31.589666);
    map.centerAndZoom(testpoint, 18);
    var marker=new BMap.Marker(testpoint);
    marker.enableDragging();
    map.addOverlay(marker);
    marker.addEventListener('dragend',function(e){
        panorama.setPosition(e.point); //拖动marker后，全景图位置也随着改变
        panorama.setPov({heading: -40, pitch: 6});}
    );

</script>
<div class="hide">
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?c724ae68dda63b17c69996fdf4888cbb";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</div>
</body>
</html>